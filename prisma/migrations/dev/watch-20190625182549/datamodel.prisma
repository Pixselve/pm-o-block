datasource db {
    provider = "sqlite"
    url      = "file:dev.db"
    default  = true
}

generator photon {
    provider = "photonjs"
    output   = "node_modules/@generated/photon"
}
model Guild {
    id    String  @default(cuid()) @id @unique
    discordId String @unique
    createdAt DateTime
    users GuildUser[]
    badWords BadWord[]
    verificationRequired Boolean? @default(true)
}
model User {
    id    String  @default(cuid()) @id @unique
    discordId String @unique
    guildUsers GuildUser[]
}
model Warn {
    id    String  @default(cuid()) @id @unique
    reason String
    timestamp DateTime   @default(now())
    authorId String @unique
    target GuildUser
}
model BadWord {
    id    String  @default(cuid()) @id @unique
    value String @unique
    guild Guild
}
model GuildUser {
    id    String  @default(cuid()) @id @unique
    user User
    guild Guild
    verified Boolean @default(false)
    messages Int @default(0)
    captchaText String?
    warns Warn[]
    opinion String?
}